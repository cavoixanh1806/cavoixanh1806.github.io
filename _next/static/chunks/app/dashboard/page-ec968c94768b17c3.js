(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[7702],{2100:function(e,t,n){Promise.resolve().then(n.bind(n,6169))},6169:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return j}});var r=n(7437),a=n(2265),s=n(6463),i=n(7138),l=n(9321),o=n(6183),c=n(2456),d=n(4984),m=n(3417),u=n(9354),h=n(8030);/**
 * @license lucide-react v0.416.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let x=(0,h.Z)("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]),p=(0,h.Z)("LogOut",[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]]);var f=n(3852);let g="/login/api",v={hidden:{opacity:0},visible:{opacity:1,transition:{staggerChildren:.1,delayChildren:.2}}},y={hidden:{opacity:0,y:20},visible:{opacity:1,y:0,transition:{duration:.5,ease:"easeOut"}}};function j(){let e=(0,s.useRouter)(),{isExpanded:t}=(0,m.A)(),[n,h]=(0,a.useState)(null),[j,w]=(0,a.useState)(!0);(0,a.useEffect)(()=>{b()},[]);let b=async()=>{try{let t=sessionStorage.getItem("login_token"),n=localStorage.getItem("login_token");if(!(t||n)){e.push("/login");return}let r=await fetch("".concat(g,"/me.php"),{method:"GET",credentials:"include"}),a=await r.json();a.success&&a.user?h(a.user):(sessionStorage.removeItem("login_token"),sessionStorage.removeItem("user_id"),localStorage.removeItem("login_token"),localStorage.removeItem("user_id"),e.push("/login"))}catch(t){console.error("Auth check error:",t),sessionStorage.removeItem("login_token"),sessionStorage.removeItem("user_id"),localStorage.removeItem("login_token"),localStorage.removeItem("user_id"),e.push("/login")}finally{w(!1)}},N=async()=>{try{sessionStorage.removeItem("login_token"),sessionStorage.removeItem("user_id"),localStorage.removeItem("login_token"),localStorage.removeItem("user_id"),await fetch("".concat(g,"/logout.php"),{method:"POST",headers:{"Content-Type":"application/json"},credentials:"include"}),window.location.href="/login"}catch(e){console.error("Logout error:",e),sessionStorage.removeItem("login_token"),sessionStorage.removeItem("user_id"),localStorage.removeItem("login_token"),localStorage.removeItem("user_id"),window.location.href="/login"}};return j?(0,r.jsx)("div",{className:"fixed inset-0 w-screen h-screen flex items-center justify-center bg-slate-100 dark:bg-transparent",children:(0,r.jsx)(l.E.div,{initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},transition:{duration:.3,ease:[.4,-.3,.6,1.3]},className:"w-full max-w-md relative z-10",children:(0,r.jsx)(o.Z,{className:"w-full p-8 md:p-10",children:(0,r.jsx)("div",{className:"text-center",children:(0,r.jsx)(l.E.p,{animate:{opacity:[.5,1,.5]},transition:{duration:1.5,repeat:1/0,ease:"easeInOut"},className:"text-foreground",children:"Đang tải..."})})})})}):n?(0,r.jsxs)("div",{className:"fixed inset-0 w-screen h-screen bg-slate-100 dark:bg-transparent overflow-hidden",style:{margin:0,padding:0},children:[(0,r.jsx)(d.Z,{}),(0,r.jsx)(l.E.main,{initial:{opacity:0},animate:{opacity:1},transition:{duration:.3},className:(0,u.cn)("fixed top-0 bottom-0 pt-4 pb-4 px-2 lg:px-4 md:pt-8 md:pb-8 overflow-y-auto transition-all duration-300 z-10 flex flex-col min-h-screen"),style:{left:t?"13rem":"7rem",right:0,width:t?"calc(100vw - 13rem)":"calc(100vw - 7rem)",minHeight:"100vh"},children:(0,r.jsx)(o.Z,{className:"w-full h-full flex flex-col p-6 md:p-8 lg:p-10",children:(0,r.jsxs)(l.E.div,{variants:v,initial:"hidden",animate:"visible",className:"space-y-6 flex-1 flex flex-col",children:[(0,r.jsxs)(l.E.div,{variants:y,className:"text-center space-y-3",children:[(0,r.jsxs)("h1",{className:"text-4xl md:text-5xl font-bold text-foreground flex items-center justify-center gap-3",children:[(0,r.jsx)(x,{className:"w-8 h-8 md:w-10 md:h-10"}),"Dashboard"]}),(0,r.jsxs)("p",{className:"text-sm text-foreground/80",children:["Ch\xe0o mừng, ",(0,r.jsx)("span",{className:"font-medium text-[var(--brand)]",children:n.username}),"!"]})]}),(0,r.jsx)(l.E.div,{variants:y,className:"space-y-4",children:(0,r.jsxs)("div",{className:"p-6 rounded-lg bg-background/50 border border-border",children:[(0,r.jsx)("h2",{className:"text-xl font-semibold text-foreground mb-4",children:"Th\xf4ng tin t\xe0i khoản"}),(0,r.jsxs)("div",{className:"space-y-4",children:[(0,r.jsxs)("div",{children:[(0,r.jsx)("p",{className:"text-sm text-muted-foreground",children:"T\xean đăng nhập"}),(0,r.jsx)("p",{className:"text-lg text-foreground font-medium",children:n.username})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("p",{className:"text-sm text-muted-foreground",children:"Email"}),(0,r.jsx)("p",{className:"text-lg text-foreground font-medium",children:n.email})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("p",{className:"text-sm text-muted-foreground",children:"Ng\xe0y tạo t\xe0i khoản"}),(0,r.jsx)("p",{className:"text-lg text-foreground font-medium",children:new Date(n.created_at).toLocaleDateString("vi-VN",{year:"numeric",month:"long",day:"numeric"})})]})]})]})}),(0,r.jsxs)(l.E.div,{variants:y,className:"flex flex-col sm:flex-row gap-3 mt-auto",children:[(0,r.jsx)(l.E.div,{whileHover:{scale:1.02},whileTap:{scale:.98},className:"flex-1",children:(0,r.jsxs)(c.Z,{onClick:N,className:"w-full h-12 md:h-14 text-white font-semibold flex items-center justify-center gap-2",children:[(0,r.jsx)(p,{className:"w-5 h-5"}),"Đăng Xuất"]})}),(0,r.jsx)(l.E.div,{whileHover:{scale:1.02},whileTap:{scale:.98},className:"flex-1",children:(0,r.jsx)(i.default,{href:"/",className:"block",children:(0,r.jsxs)(c.Z,{className:"w-full h-12 md:h-14 text-white font-semibold flex items-center justify-center gap-2",children:[(0,r.jsx)(f.Z,{className:"w-5 h-5"}),"Về Trang Chủ"]})})})]})]})})})]}):null}},4984:function(e,t,n){"use strict";n.d(t,{Z:function(){return f}});var r=n(7437);n(2265);var a=n(7138),s=n(6463),i=n(9354),l=n(3417),o=n(9321),c=n(5127),d=n(7140),m=n(4241),u=n(4042),h=n(3852),x=n(2873);let p=[{icon:(0,r.jsx)(d.Z,{className:"w-5 h-5"}),label:"Dashboard",href:"/dashboard"},{icon:(0,r.jsx)(m.Z,{className:"w-5 h-5"}),label:"Daily Notes",href:"/dashboard/notes"},{icon:(0,r.jsx)(u.Z,{className:"w-5 h-5"}),label:"Anniversaries",href:"/dashboard/anniversaries"},{icon:(0,r.jsx)(h.Z,{className:"w-5 h-5"}),label:"Trang Chủ",href:"/"}];function f(){let e=(0,s.usePathname)(),{isExpanded:t,setIsExpanded:n}=(0,l.A)();return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)("svg",{className:"gooey-filter",style:{position:"absolute",top:"-9999px",left:"-9999px"},children:(0,r.jsx)("defs",{children:(0,r.jsxs)("filter",{id:"gooey",children:[(0,r.jsx)("feGaussianBlur",{in:"SourceGraphic",stdDeviation:"10",result:"blur"}),(0,r.jsx)("feColorMatrix",{in:"blur",mode:"matrix",values:"1 0 0 0 0  0 1 0 0 0  0 0 1 0 0  0 0 0 18 -7",result:"gooey"}),(0,r.jsx)("feBlend",{in:"SourceGraphic",in2:"gooey"})]})})}),(0,r.jsxs)(o.E.nav,{className:(0,i.cn)("navbar",t&&"navbar--expanded"),initial:{width:"5.5rem"},animate:{width:t?"12rem":"5.5rem"},transition:{duration:.3,ease:[.4,-.3,.6,1.3]},children:[(0,r.jsx)(o.E.button,{className:"navbar__toggle",onClick:()=>n(!t),"aria-label":"Toggle sidebar",whileHover:{scale:1.1},whileTap:{scale:.9},children:(0,r.jsx)(x.Z,{className:"w-5 h-5"})}),(0,r.jsx)("ul",{className:"navbar__menu",children:p.map((n,s)=>{let l=e===n.href;return(0,r.jsx)(o.E.li,{className:"navbar__item",initial:{opacity:0,x:-20},animate:{opacity:1,x:0},transition:{delay:.1*s},children:(0,r.jsxs)(a.default,{href:n.href,className:(0,i.cn)("navbar__link",l&&"text-primary"),children:[(0,r.jsxs)(o.E.div,{whileHover:{scale:1.1},whileTap:{scale:.9},className:"flex items-center gap-3",children:[n.icon,(0,r.jsx)(c.M,{children:t&&(0,r.jsx)(o.E.span,{initial:{opacity:0,width:0},animate:{opacity:1,width:"auto"},exit:{opacity:0,width:0},transition:{duration:.2},className:(0,i.cn)("navbar__link-label whitespace-nowrap overflow-hidden",t&&"navbar__link-label--visible"),children:n.label})})]}),l&&(0,r.jsx)(o.E.div,{className:"absolute inset-0 bg-primary/10 rounded-lg",layoutId:"activeBackground",transition:{type:"spring",bounce:.2,duration:.6}})]})},n.href)})})]})]})}},6183:function(e,t,n){"use strict";n.d(t,{Z:function(){return h}});var r=n(7437),a=n(2265),s=n(9354);let i=e=>{let{width:t,height:n}=e.getBoundingClientRect();return[t/2,n/2]},l=(e,t)=>{let n=[t.clientX,t.clientY],{left:r,top:a,width:s,height:i}=e.getBoundingClientRect(),l=n[0]-r,o=n[1]-a,c=u(100/s*l),d=u(100/i*o);return{pixels:[l,o],percent:[c,d]}},o=(e,t,n)=>{let r=0,a=0;return(0!==t||0!==n)&&(a=180/Math.PI*(r=Math.atan2(n,t))+90)<0&&(a+=360),a},c=(e,t,n)=>{let[r,a]=i(e);return[t-r,n-a]},d=(e,t,n)=>{let[r,a]=i(e),[s,l]=c(e,t,n),o=1/0,d=1/0;return 0!==s&&(o=r/Math.abs(s)),0!==l&&(d=a/Math.abs(l)),u(1/Math.min(o,d),0,1)},m=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:3;return parseFloat(e.toFixed(t))},u=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:100;return Math.min(Math.max(e,t),n)};function h(e){let{children:t,className:n,...i}=e,u=(0,a.useRef)(null),[h,x]=(0,a.useState)(!1);return(0,a.useEffect)(()=>{let e=u.current;if(!e)return;let t=t=>{let n=l(e,t),[r,a]=n.pixels,[s,i]=n.percent,[u,h]=c(e,r,a),p=d(e,r,a),f=o(e,u,h);e.style.setProperty("--pointer-x","".concat(m(s),"%")),e.style.setProperty("--pointer-y","".concat(m(i),"%")),e.style.setProperty("--pointer-\xb0","".concat(m(f),"deg")),e.style.setProperty("--pointer-d","".concat(m(100*p))),e.classList.remove("animating"),x(!1)};e.addEventListener("pointermove",t);let n=()=>{e.style.setProperty("--pointer-\xb0","".concat(110,"deg")),e.classList.add("animating"),x(!0);let t=performance.now(),n=()=>{let r=Math.min((performance.now()-t)/500,1);e.style.setProperty("--pointer-d",String(100*(1-Math.pow(1-r,3)))),r<1&&requestAnimationFrame(n)};requestAnimationFrame(n),t=performance.now();let r=()=>{let n=Math.min((performance.now()-t)/1500,1);e.style.setProperty("--pointer-\xb0","".concat(n*n*n*50/100*355+110,"deg")),n<1&&requestAnimationFrame(r)};setTimeout(()=>requestAnimationFrame(r),0),t=performance.now()+1500;let a=()=>{let n=performance.now()-t;if(n<0){requestAnimationFrame(a);return}let r=Math.min(n/2250,1);e.style.setProperty("--pointer-\xb0","".concat((50+50*(1-Math.pow(1-r,3)))/100*355+110,"deg")),r<1&&requestAnimationFrame(a)};requestAnimationFrame(a),t=performance.now()+2500;let s=()=>{let n=performance.now()-t;if(n<0){requestAnimationFrame(s);return}let r=Math.min(n/1500,1);e.style.setProperty("--pointer-d",String((1-r*r*r)*100)),r<1?requestAnimationFrame(s):(e.classList.remove("animating"),x(!1))};requestAnimationFrame(s)},r=setTimeout(()=>{n()},500);return()=>{e.removeEventListener("pointermove",t),clearTimeout(r)}},[]),(0,r.jsx)(r.Fragment,{children:(0,r.jsxs)("div",{ref:u,className:(0,s.cn)("glass-card",n),style:{"--pointer-x":"50%","--pointer-y":"50%","--pointer-\xb0":"45deg","--pointer-d":"0"},...i,children:[(0,r.jsx)("span",{className:"glow"}),(0,r.jsx)("div",{className:"inner",children:t})]})})}},2456:function(e,t,n){"use strict";n.d(t,{Z:function(){return s}});var r=n(7437);n(2265);var a=n(9354);function s(e){let{children:t,className:n,...s}=e;return(0,r.jsx)("div",{className:"relative overflow-hidden rounded-[99vw]",children:(0,r.jsxs)("button",{className:(0,a.cn)("iridescent",n),...s,children:[t,(0,r.jsx)("span",{className:"drop-shadow"})]})})}},3417:function(e,t,n){"use strict";n.d(t,{A:function(){return l},H:function(){return i}});var r=n(7437),a=n(2265);let s=(0,a.createContext)(void 0);function i(e){let{children:t}=e,[n,i]=(0,a.useState)(!1);return(0,r.jsx)(s.Provider,{value:{isExpanded:n,setIsExpanded:i},children:t})}function l(){let e=(0,a.useContext)(s);if(void 0===e)throw Error("useSidebar must be used within a SidebarProvider");return e}},9354:function(e,t,n){"use strict";n.d(t,{_:function(){return i},cn:function(){return s}});var r=n(4839),a=n(6164);function s(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];return(0,a.m6)((0,r.W)(t))}let i=e=>new Promise(t=>setTimeout(t,e))}},function(e){e.O(0,[4902,3092,2971,7023,1744],function(){return e(e.s=2100)}),_N_E=e.O()}]);